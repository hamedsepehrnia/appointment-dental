import{b as h,j as e}from"./query-DkYU0mMV.js";import{r as s}from"./react-router-BDAfChV3.js";import{V as b,aF as N,l as j,aG as w,aH as S,aI as v,aJ as A,k as d,a0 as o,s as E}from"./index-CjdPVZci.js";import"./react-core-DwtKV0qF.js";import"./redux-BgAWEerc.js";import"./ui-base-vsthQ4vg.js";import"./forms-C2N9TMf6.js";import"./motion-CQyDv_CV.js";import"./swiper-C43kgiy-.js";function U(){const{setHeaderConfig:r}=b(),c=h(),{data:m,isLoading:x,error:n}=N(),{data:p}=j(1,100),l=w();S(),v(),A();const t=m?.data?.appointmentSettings;p?.data?.clinics;const[a,i]=s.useState("SIMPLE"),[y,f]=s.useState(10),[C,P]=s.useState(!1),[K,M]=s.useState(""),[I,D]=s.useState(""),[L,k]=s.useState(null),[H,F]=s.useState(!1);s.useEffect(()=>(r({title:"تنظیمات نوبت‌دهی"}),()=>{r({title:void 0,backButton:!1})}),[r]),s.useEffect(()=>{t&&(i(t.mode),f(t.maxAppointmentsPerHour))},[t]),s.useEffect(()=>{n&&d("خطا در دریافت تنظیمات")},[n]);const u=async()=>{if(a==="ADVANCED"){d("حالت پیشرفته در حال توسعه می‌باشد. لطفاً از حالت ساده استفاده کنید."),i("SIMPLE");return}try{await l.mutateAsync({appointmentMode:"SIMPLE",maxAppointmentsPerHour:y}),c.invalidateQueries({queryKey:["appointmentSettings"]}),E("تنظیمات با موفقیت ذخیره شد")}catch(g){d(g?.response?.data?.message||"خطا در ذخیره تنظیمات")}};return x?e.jsx("main",{children:e.jsx(o,{children:e.jsx("div",{className:"flex justify-center items-center py-20",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-primary border-t-transparent"})})})}):e.jsx("main",{children:e.jsxs(o,{children:[e.jsx("h5",{className:"main-header mb-6",children:"تنظیمات نوبت‌دهی"}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-white rounded-xl border-2 border-gray-200 p-6",children:[e.jsx("h6",{className:"text-lg font-estedad-semibold text-dark mb-4",children:"حالت نوبت‌دهی"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("label",{className:`relative flex flex-col p-6 rounded-xl border-2 cursor-pointer transition-all ${a==="SIMPLE"?"border-primary bg-primary/5":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx("input",{type:"radio",name:"mode",value:"SIMPLE",checked:a==="SIMPLE",onChange:()=>i("SIMPLE"),className:"sr-only"}),e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center ${a==="SIMPLE"?"border-primary bg-primary":"border-gray-300"}`,children:a==="SIMPLE"&&e.jsx("i",{className:"fas fa-check text-white text-xs"})}),e.jsx("span",{className:"text-lg font-estedad-semibold text-dark",children:"حالت ساده"})]}),e.jsx("p",{className:"text-sm text-gray-600 font-estedad-light leading-relaxed",children:"بدون بررسی تداخل نوبت‌ها. کاربران می‌توانند در هر ساعتی نوبت بگیرند. مناسب برای کلینیک‌هایی که مدیریت نوبت را دستی انجام می‌دهند."})]}),e.jsxs("div",{className:`relative flex flex-col p-6 rounded-xl border-2 transition-all ${a==="ADVANCED"?"border-gray-300 bg-gray-50":"border-gray-200 bg-gray-50"}`,children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-5 h-5 rounded-full border-2 flex items-center justify-center border-gray-300 bg-gray-200",children:e.jsx("i",{className:"fas fa-lock text-gray-400 text-xs"})}),e.jsx("span",{className:"text-lg font-estedad-semibold text-gray-500",children:"حالت پیشرفته"}),e.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-700 rounded text-xs font-estedad-medium",children:"در حال توسعه"})]}),e.jsx("p",{className:"text-sm text-gray-500 font-estedad-light leading-relaxed mb-3",children:"با بررسی تداخل نوبت‌ها و سینک با نرم‌افزار آفلاین. جلوگیری از رزرو همزمان و مدیریت ظرفیت پزشکان."}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:e.jsxs("p",{className:"text-sm text-yellow-800 font-estedad-medium",children:[e.jsx("i",{className:"fas fa-info-circle ml-2"}),"این بخش در حال توسعه می‌باشد. لطفاً از حالت ساده استفاده کنید."]})})]})]})]}),a==="ADVANCED"&&e.jsxs("div",{className:"bg-gray-50 rounded-xl border-2 border-gray-300 p-6 opacity-60",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("i",{className:"fas fa-lock text-gray-400"}),e.jsx("h6",{className:"text-lg font-estedad-semibold text-gray-500",children:"تنظیمات حالت پیشرفته"})]}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:e.jsxs("p",{className:"text-sm text-yellow-800 font-estedad-medium",children:[e.jsx("i",{className:"fas fa-info-circle ml-2"}),"این بخش در حال توسعه می‌باشد. لطفاً از حالت ساده استفاده کنید."]})})]}),a==="ADVANCED"&&e.jsx("div",{className:"bg-gray-50 rounded-xl border-2 border-gray-300 p-6 opacity-60",children:e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4",children:e.jsxs("p",{className:"text-sm text-yellow-800 font-estedad-medium",children:[e.jsx("i",{className:"fas fa-info-circle ml-2"}),"این بخش در حال توسعه می‌باشد. لطفاً از حالت ساده استفاده کنید."]})})}),!1,!1,e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:u,disabled:l.isPending,className:"purple-btn",children:l.isPending?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-spinner fa-spin ml-2"}),"در حال ذخیره..."]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-save ml-2"}),"ذخیره تنظیمات"]})})})]})]})})}export{U as default};
