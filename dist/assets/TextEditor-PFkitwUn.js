import{j as s}from"./query-vendor-KlcNboas.js";import{a0 as K,c as M}from"./index-De3z1354.js";import{a as k}from"./react-vendor-vqeg7uDR.js";import{A as V,a as $,b as q,c as Q,B as J,d as O,e as W,f as Y,C as X,E as Z,F as ee,g as te,h as ae,i as oe,H as le,j as ie,I as ne,k as se,l as re,m as de,n as ce,o as me,p as ge,q as ue,r as he,s as fe,t as be,u as pe,L as ke,v as xe,w as Te,M as ye,P as Ce,S as Ie,x as ve,y as Le,T as _e,z as Ee,D as we,G as Se,J as Ae,U as je,K as Be,N as Fe}from"./editor-vendor-CyaMQeXG.js";class De{loader;constructor(e){this.loader=e}upload(){return this.loader.file.then(e=>e?new Promise((T,f)=>{const b=new FormData;b.append("file",e),fetch(K("/api/upload"),{method:"POST",body:b}).then(t=>{if(!t.ok)throw new Error(`Upload failed: ${t.statusText}`);return t.json()}).then(t=>{T({default:t.url})}).catch(t=>{f(t)})}):Promise.reject(new Error("File is null")))}abort(){}}function Ne(x){x.plugins.get("FileRepository").createUploadAdapter=e=>new De(e)}const Pe="GPL";function Ge(x){const e=M.c(35),{value:T,onChange:f,placeholder:b,labelText:t,errorMessage:H,optional:B}=x,a=T===void 0?"":T,F=b===void 0?"متن خود را اینجا تایپ یا جایگذاری کنید!":b,z=k.useRef(null),y=k.useRef(null),[G,U]=k.useState(!1);let C,I;e[0]===Symbol.for("react.memo_cache_sentinel")?(C=()=>(U(!0),()=>U(!1)),I=[],e[0]=C,e[1]=I):(C=e[0],I=e[1]),k.useEffect(C,I);let v,L;e[2]!==a?(v=()=>{y.current&&a!==void 0&&y.current.getData()!==a&&y.current.setData(a||"")},L=[a],e[2]=a,e[3]=v,e[4]=L):(v=e[3],L=e[4]),k.useEffect(v,L);let D;e:{if(!G){D=void 0;break e}let o,i,n,p,r,l,d,h,w;e[5]===Symbol.for("react.memo_cache_sentinel")?(h=[Ne],w={items:["undo","redo","|","sourceEditing","showBlocks","|","heading","|","fontSize","fontFamily","fontColor","fontBackgroundColor","|","bold","italic","underline","strikethrough","|","horizontalLine","link","imageInsert","mediaEmbed","insertTable","blockQuote","codeBlock","|","alignment","|","bulletedList","numberedList","todoList","outdent","indent"],shouldNotGroupWhenFull:!1},o=[V,$,q,Q,J,O,W,Y,X,Z,ee,te,ae,oe,le,ie,ne,se,re,de,ce,me,ge,ue,he,fe,be,pe,ke,xe,Te,ye,Ce,Ie,ve,Le,_e,Ee,we,Se,Ae,je],i=["bold","italic","|","link","|","bulletedList","numberedList"],n=["fontSize","fontColor","fontBackgroundColor","|","bold","italic","|","link","imageInsert","insertTable","|","bulletedList","numberedList","outdent","indent"],p={supportAllValues:!0},r={options:[10,12,14,"default",18,20,22],supportAllValues:!0},l={options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h1",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h2",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h3",title:"Heading 3",class:"ck-heading_heading3"},{model:"heading4",view:"h4",title:"Heading 4",class:"ck-heading_heading4"},{model:"heading5",view:"h5",title:"Heading 5",class:"ck-heading_heading5"},{model:"heading6",view:"h6",title:"Heading 6",class:"ck-heading_heading6"}]},d={toolbar:["toggleImageCaption","imageTextAlternative","|","imageStyle:inline","imageStyle:wrapText","imageStyle:breakText"]},e[5]=o,e[6]=i,e[7]=n,e[8]=p,e[9]=r,e[10]=l,e[11]=d,e[12]=h,e[13]=w):(o=e[5],i=e[6],n=e[7],p=e[8],r=e[9],l=e[10],d=e[11],h=e[12],w=e[13]);const R=a||"";let S;e[14]===Symbol.for("react.memo_cache_sentinel")?(S={addTargetToExternalLinks:!0,defaultProtocol:"https://",decorators:{toggleDownloadable:{mode:"manual",label:"Downloadable",attributes:{download:"file"}}}},e[14]=S):S=e[14];let A;e[15]===Symbol.for("react.memo_cache_sentinel")?(A={contentToolbar:["tableColumn","tableRow","mergeTableCells"]},e[15]=A):A=e[15];let j;e[16]!==F||e[17]!==R?(j={extraPlugins:h,toolbar:w,plugins:o,balloonToolbar:i,blockToolbar:n,fontFamily:p,fontSize:r,heading:l,image:d,initialData:R,licenseKey:Pe,link:S,placeholder:F,language:"fa",direction:"rtl",table:A},e[16]=F,e[17]=R,e[18]=j):j=e[18],D=j}const _=D;let c;e[19]!==t||e[20]!==B?(c=t&&s.jsx("label",{className:"block text-dark font-estedad-lightbold mb-2 mr-4",children:s.jsxs("span",{className:"block mr-4 mb-2",children:[t,B&&s.jsx("span",{className:"text-paragray",children:" (اختیاری)"})]})}),e[19]=t,e[20]=B,e[21]=c):c=e[21];let m;e[22]!==_||e[23]!==f||e[24]!==a?(m=_&&s.jsx(Be,{editor:Fe,config:_,data:a||"",onReady:o=>{y.current=o,a&&o.setData(a);const i=o.model,n=i.document;n.on("change:data",()=>{n.differ.getChanges({includeChangesInGraveyard:!1}).forEach(r=>{if(r.type==="insert"&&r.name==="listItem"){const l=r.position.nodeAfter;if(l&&l.is("element","listItem")){const d=l.parent;d&&d.is("element","list")&&d.getAttribute("listType")==="todo"&&(l.getAttribute("todoListChecked")||i.enqueueChange(h=>{h.setAttribute("todoListChecked",!0,l)}))}}})})},onChange:(o,i)=>{const n=i.getData();f?.(n)}}),e[22]=_,e[23]=f,e[24]=a,e[25]=m):m=e[25];let g;e[26]!==m?(g=s.jsx("div",{className:"main-container text-editor-rtl",children:s.jsx("div",{className:"editor-container editor-container_classic-editor editor-container_include-block-toolbar",ref:z,children:s.jsx("div",{className:"editor-container__editor",children:m})})}),e[26]=m,e[27]=g):g=e[27];const N=`block text-red-500 text-[10px] font-iran-sans-normal mt-1 mr-4 mb-2 h-4 ${H?"visible":"invisible"}`,P=H||" ";let u;e[28]!==N||e[29]!==P?(u=s.jsx("span",{className:N,children:P}),e[28]=N,e[29]=P,e[30]=u):u=e[30];let E;return e[31]!==g||e[32]!==u||e[33]!==c?(E=s.jsxs("div",{className:"col-span-full",children:[c,g,u]}),e[31]=g,e[32]=u,e[33]=c,e[34]=E):E=e[34],E}export{Ge as T};
