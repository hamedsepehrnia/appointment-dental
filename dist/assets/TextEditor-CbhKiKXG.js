var M=Object.defineProperty;var V=(o,e,n)=>e in o?M(o,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[e]=n;var z=(o,e,n)=>V(o,typeof e!="symbol"?e+"":e,n);import{j as d}from"./query-DkYU0mMV.js";import{ag as $,c as q}from"./index-CjdPVZci.js";import{r as T}from"./react-router-BDAfChV3.js";import{A as Q,a as J,b as O,c as W,B as Y,d as X,e as Z,f as ee,C as te,E as ae,F as oe,g as le,h as ie,i as ne,H as se,j as re,I as de,k as ce,l as me,m as ge,n as ue,o as he,p as fe,q as be,r as pe,s as ke,t as xe,u as Te,L as ye,v as Ce,w as Ie,M as ve,P as Le,S as _e,x as Ee,y as we,T as Se,z as Ae,D as je,G as Be,J as Fe,U as De,K as Ne,N as Pe}from"./editor-CoJN43AC.js";class Re{constructor(e){z(this,"loader");this.loader=e}upload(){return this.loader.file.then(e=>e?new Promise((n,p)=>{const k=new FormData;k.append("file",e),fetch($("/api/upload"),{method:"POST",body:k}).then(t=>{if(!t.ok)throw new Error(`Upload failed: ${t.statusText}`);return t.json()}).then(t=>{n({default:t.url})}).catch(t=>{p(t)})}):Promise.reject(new Error("File is null")))}abort(){}}function He(o){o.plugins.get("FileRepository").createUploadAdapter=e=>new Re(e)}const Ue="GPL";function $e(o){const e=q.c(35),{value:n,onChange:p,placeholder:k,labelText:t,errorMessage:H,optional:B}=o,a=n===void 0?"":n,F=k===void 0?"متن خود را اینجا تایپ یا جایگذاری کنید!":k,G=T.useRef(null),y=T.useRef(null),[K,U]=T.useState(!1);let C,I;e[0]===Symbol.for("react.memo_cache_sentinel")?(C=()=>(U(!0),()=>U(!1)),I=[],e[0]=C,e[1]=I):(C=e[0],I=e[1]),T.useEffect(C,I);let v,L;e[2]!==a?(v=()=>{y.current&&a!==void 0&&y.current.getData()!==a&&y.current.setData(a||"")},L=[a],e[2]=a,e[3]=v,e[4]=L):(v=e[3],L=e[4]),T.useEffect(v,L);let D;e:{if(!K){D=void 0;break e}let l,s,r,x,c,i,m,b,w;e[5]===Symbol.for("react.memo_cache_sentinel")?(b=[He],w={items:["undo","redo","|","sourceEditing","showBlocks","|","heading","|","fontSize","fontFamily","fontColor","fontBackgroundColor","|","bold","italic","underline","strikethrough","|","horizontalLine","link","imageInsert","mediaEmbed","insertTable","blockQuote","codeBlock","|","alignment","|","bulletedList","numberedList","todoList","outdent","indent"],shouldNotGroupWhenFull:!1},l=[Q,J,O,W,Y,X,Z,ee,te,ae,oe,le,ie,ne,se,re,de,ce,me,ge,ue,he,fe,be,pe,ke,xe,Te,ye,Ce,Ie,ve,Le,_e,Ee,we,Se,Ae,je,Be,Fe,De],s=["bold","italic","|","link","|","bulletedList","numberedList"],r=["fontSize","fontColor","fontBackgroundColor","|","bold","italic","|","link","imageInsert","insertTable","|","bulletedList","numberedList","outdent","indent"],x={supportAllValues:!0},c={options:[10,12,14,"default",18,20,22],supportAllValues:!0},i={options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h1",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h2",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h3",title:"Heading 3",class:"ck-heading_heading3"},{model:"heading4",view:"h4",title:"Heading 4",class:"ck-heading_heading4"},{model:"heading5",view:"h5",title:"Heading 5",class:"ck-heading_heading5"},{model:"heading6",view:"h6",title:"Heading 6",class:"ck-heading_heading6"}]},m={toolbar:["toggleImageCaption","imageTextAlternative","|","imageStyle:inline","imageStyle:wrapText","imageStyle:breakText"]},e[5]=l,e[6]=s,e[7]=r,e[8]=x,e[9]=c,e[10]=i,e[11]=m,e[12]=b,e[13]=w):(l=e[5],s=e[6],r=e[7],x=e[8],c=e[9],i=e[10],m=e[11],b=e[12],w=e[13]);const R=a||"";let S;e[14]===Symbol.for("react.memo_cache_sentinel")?(S={addTargetToExternalLinks:!0,defaultProtocol:"https://",decorators:{toggleDownloadable:{mode:"manual",label:"Downloadable",attributes:{download:"file"}}}},e[14]=S):S=e[14];let A;e[15]===Symbol.for("react.memo_cache_sentinel")?(A={contentToolbar:["tableColumn","tableRow","mergeTableCells"]},e[15]=A):A=e[15];let j;e[16]!==F||e[17]!==R?(j={extraPlugins:b,toolbar:w,plugins:l,balloonToolbar:s,blockToolbar:r,fontFamily:x,fontSize:c,heading:i,image:m,initialData:R,licenseKey:Ue,link:S,placeholder:F,language:"fa",direction:"rtl",table:A},e[16]=F,e[17]=R,e[18]=j):j=e[18],D=j}const _=D;let g;e[19]!==t||e[20]!==B?(g=t&&d.jsx("label",{className:"block text-dark font-estedad-lightbold mb-2 mr-4",children:d.jsxs("span",{className:"block mr-4 mb-2",children:[t,B&&d.jsx("span",{className:"text-paragray",children:" (اختیاری)"})]})}),e[19]=t,e[20]=B,e[21]=g):g=e[21];let u;e[22]!==_||e[23]!==p||e[24]!==a?(u=_&&d.jsx(Ne,{editor:Pe,config:_,data:a||"",onReady:l=>{y.current=l,a&&l.setData(a);const s=l.model,r=s.document;r.on("change:data",()=>{r.differ.getChanges({includeChangesInGraveyard:!1}).forEach(c=>{if(c.type==="insert"&&c.name==="listItem"){const i=c.position.nodeAfter;if(i&&i.is("element","listItem")){const m=i.parent;m&&m.is("element","list")&&m.getAttribute("listType")==="todo"&&(i.getAttribute("todoListChecked")||s.enqueueChange(b=>{b.setAttribute("todoListChecked",!0,i)}))}}})})},onChange:(l,s)=>{const r=s.getData();p?.(r)}}),e[22]=_,e[23]=p,e[24]=a,e[25]=u):u=e[25];let h;e[26]!==u?(h=d.jsx("div",{className:"main-container text-editor-rtl",children:d.jsx("div",{className:"editor-container editor-container_classic-editor editor-container_include-block-toolbar",ref:G,children:d.jsx("div",{className:"editor-container__editor",children:u})})}),e[26]=u,e[27]=h):h=e[27];const N=`block text-red-500 text-[10px] font-iran-sans-normal mt-1 mr-4 mb-2 h-4 ${H?"visible":"invisible"}`,P=H||" ";let f;e[28]!==N||e[29]!==P?(f=d.jsx("span",{className:N,children:P}),e[28]=N,e[29]=P,e[30]=f):f=e[30];let E;return e[31]!==h||e[32]!==f||e[33]!==g?(E=d.jsxs("div",{className:"col-span-full",children:[g,h,f]}),e[31]=h,e[32]=f,e[33]=g,e[34]=E):E=e[34],E}export{$e as T};
