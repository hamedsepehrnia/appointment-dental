import{j as e}from"./query-vendor-DvaUDqTV.js";import{c as v,a as w,d as S,C as g,e as I,b as T,f as D,s as P}from"./index-D1LHzErR.js";import{a as F}from"./react-vendor-dTsWsAAn.js";import{B as C}from"./Breadcrumb-ElZTU5M6.js";import{F as M,c as E,a as f,d as $}from"./form-vendor--jwUxY8R.js";import{u as A}from"./useDoctorApplications-DBgkPrd7.js";import{h as B,i as L}from"./ui-vendor-B68-Q-v-.js";import"./redux-vendor-5gwm_VuO.js";import"./motion-vendor-CQyDv_CV.js";function G(){const s=v.c(16),{data:r,isLoading:n}=w(),i=r?.data?.settings?.becomeDoctorContent;if(n){let a;return s[0]===Symbol.for("react.memo_cache_sentinel")?(a=e.jsx("div",{className:"flex justify-center items-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-primary border-t-transparent"})}),s[0]=a):a=s[0],a}if(!i){let a,l,d;s[1]===Symbol.for("react.memo_cache_sentinel")?(a=e.jsxs("div",{children:[e.jsx("h3",{className:"text-[26px] sm:text-[32px] md:text-[44px] text-right font-estedad-verybold text-primary  mb-4",children:"دکتر شوید !"}),e.jsx("p",{className:"text-paragray leading-relaxed mb-4",children:"در مادیفاکس، ما متعهد به حفاظت از حریم خصوصی و اطلاعات شخصی شما هستیم این خط‌مشی رازداری توضیح می‌دهد که در زمان جمع‌آوری، استفاده و اشتراک‌گذاری اطلاعات شما شما از خدمات ما استفاده می کنید با استفاده از خدمات ما، شما با شرایط این حریم خصوصی موافقت می کنید و سیاست به اشتراک گذاری"})]}),l=e.jsx("h3",{className:"text-2xl font-estedad-semibold text-lg md:text-2xl text-primary mb-4",children:"وظایف پرشک"}),d=e.jsx("p",{className:"text-paragray leading-relaxed mb-4",children:"مادیفاکس، ما متعهد به حفاظت از حریم خصوصی و اطلاعات شخصی شما هستیم. این خط مشی رازداری توضیح می دهد که چگونه ما."}),s[1]=a,s[2]=l,s[3]=d):(a=s[1],l=s[2],d=s[3]);let m;s[4]===Symbol.for("react.memo_cache_sentinel")?(m=e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("i",{className:"fas fa-check-circle text-[22px] text-secondary "}),e.jsx("span",{className:"font-estedad-semibold",children:"فرم ثبت نام آسان و داده های پردازش را فراهم می کند."})]}),s[4]=m):m=s[4];let x;s[5]===Symbol.for("react.memo_cache_sentinel")?(x=e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("i",{className:"fas fa-check-circle text-[22px] text-secondary "}),e.jsx("span",{className:"font-estedad-semibold",children:"ثبت آسان و پردازش داده ها را برای سازماندهی فراهم می کند."})]}),s[5]=x):x=s[5];let p;s[6]===Symbol.for("react.memo_cache_sentinel")?(p=e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("i",{className:"fas fa-check-circle text-[22px] text-secondary "}),e.jsx("span",{className:"font-estedad-semibold",children:"بیشتر فراهم می کند ثبت نام آسان و."})]}),s[6]=p):p=s[6];let h;s[7]===Symbol.for("react.memo_cache_sentinel")?(h=e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("i",{className:"fas fa-check-circle text-[22px] text-secondary "}),e.jsx("span",{className:"font-estedad-semibold",children:"هر یک ثبت نام آسان و داده های پردازش را فراهم می کند."})]}),s[7]=h):h=s[7];let u,o,b;s[8]===Symbol.for("react.memo_cache_sentinel")?(u=e.jsxs("div",{children:[l,d,e.jsxs("ul",{className:"space-y-4 text-paragray",children:[m,x,p,h,e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("i",{className:"fas fa-check-circle text-[22px] text-secondary "}),e.jsx("span",{className:"font-estedad-semibold",children:"هر ثبت نام آسان و پردازش داده ها انجام می شود."})]})]})]}),o=e.jsx("h3",{className:" font-estedad-semibold text-lg md:text-2xl text-primary mb-4",children:"با رزرو شروع کنید"}),b=e.jsx("p",{className:"text-paragray leading-relaxed mb-4",children:"مادیفاکس، ما متعهد به حفاظت از حریم خصوصی و اطلاعات شخصی شما هستیم. این خط‌مشی رازداری توضیح می‌دهد که چگونه اطلاعات شما را در چه زمانی جمع‌آوری، استفاده و به اشتراک می‌گذاریم شما از خدمات ما استفاده می کنید با استفاده از خدمات ما، شما با شرایط این حریم خصوصی موافقت می کنید و سیاست به اشتراک گذاری"}),s[8]=u,s[9]=o,s[10]=b):(u=s[8],o=s[9],b=s[10]);let j;s[11]===Symbol.for("react.memo_cache_sentinel")?(j=e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("i",{className:"fas fa-check-circle text-[22px] text-secondary "}),e.jsx("span",{className:"font-estedad-semibold",children:"فرم ثبت نام آسان و داده های پردازش را فراهم می کند."})]}),s[11]=j):j=s[11];let N;s[12]===Symbol.for("react.memo_cache_sentinel")?(N=e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("i",{className:"fas fa-check-circle text-[22px] text-secondary "}),e.jsx("span",{className:"font-estedad-semibold",children:"ثبت آسان و پردازش داده ها را برای سازماندهی فراهم می کند."})]}),s[12]=N):N=s[12];let y;return s[13]===Symbol.for("react.memo_cache_sentinel")?(y=e.jsxs("div",{className:"space-y-6",children:[a,u,e.jsxs("div",{children:[o,b,e.jsxs("ul",{className:"space-y-4 text-paragray mb-4",children:[j,N,e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("i",{className:"fas fa-check-circle text-[22px] text-secondary "}),e.jsx("span",{className:"font-estedad-semibold",children:"بیشتر فراهم می کند ثبت نام آسان و."})]})]}),e.jsx("p",{className:"text-paragray leading-relaxed",children:"Anvida ما متعهد به محافظت از حریم خصوصی و اطلاعات شخصی شما هستیم. این سیاست حفظ حریم خصوصی نحوه جمع آوری را توضیح می دهد."})]})]}),s[13]=y):y=s[13],y}let t;return s[14]!==i?(t=e.jsx("div",{className:"space-y-6 ck-content article-content",dangerouslySetInnerHTML:{__html:i}}),s[14]=i,s[15]=t):t=s[15],t}const _=s=>{const r=[".pdf",".jpg",".jpeg",".png",".doc",".docx"],n=["application/pdf","image/jpeg","image/jpg","image/png","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],c=s.name.toLowerCase(),i=c.substring(c.lastIndexOf("."));return r.includes(i)&&n.includes(s.type)},W=s=>{const r=v.c(3);let n;r[0]===Symbol.for("react.memo_cache_sentinel")?(n=e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M5 7.5L10 12.5L15 7.5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),r[0]=n):n=r[0];let c;return r[1]!==s?(c=e.jsx(L.DropdownIndicator,{...s,children:n}),r[1]=s,r[2]=c):c=r[2],c};function q(){const{mutateAsync:s}=A(),{data:r}=S(1,100),n=F.useRef(null),c=F.useMemo(()=>r?.data?.clinics?.map(t=>({value:t.id,label:t.name}))||[],[r?.data?.clinics]),i=async(t,a)=>{try{const l=new FormData;l.append("firstName",t.firstName),l.append("lastName",t.lastName),l.append("email",t.email),l.append("phoneNumber",t.phone),l.append("doctorInfo",t.information),t.clinicId&&l.append("clinicId",t.clinicId),t.documents&&t.documents.length>0&&t.documents.forEach(m=>{l.append("documents",m)});const d=await s(l);console.log(d),P("درخواست شما با موفقیت ارسال شد. به زودی با شما تماس خواهیم گرفت."),a(),setTimeout(()=>{n.current&&(n.current.value="")},0)}catch(l){console.log(l)}};return e.jsx("div",{className:"lg:mt-0 mt-8 mb-10",children:e.jsx(M,{initialValues:{firstName:"",lastName:"",email:"",phone:"",documents:[],information:"",clinicId:null},validationSchema:E({firstName:f().required("نام الزامی است"),lastName:f().required("نام خانوادگی الزامی است"),email:f().email("ایمیل معتبر نیست"),phone:f().required("شماره الزامی است").test("is-valid-phone","شماره موبایل معتبر نمیباشد",t=>{try{return D(t),!0}catch(a){return console.log(a),!1}}),documents:$().max(10,"حداکثر 10 فایل مجاز است").test("file-type","نوع فایل نامعتبر است. فقط PDF، تصاویر و فایل‌های Word مجاز هستند",t=>!t||t.length===0?!0:t.every(a=>_(a))),information:f().required("اطلاعات الزامی است").min(20,"اطلاعات پزشک باید حداقل 20 کاراکتر باشد"),clinicId:f().uuid().nullable()}),onSubmit:async(t,{resetForm:a})=>{await i(t,a)},children:t=>e.jsxs("form",{onSubmit:t.handleSubmit,className:"section-border p-6 md:p-8",children:[e.jsx("h2",{className:"main-header ",children:"ثبت نام دکتر"}),e.jsx(g,{labelText:"نام",placeholder:"نام را وارد کنید",...t.getFieldProps("firstName"),errorMessage:t.touched.firstName&&t.errors.firstName?t.errors.firstName:null}),e.jsx(g,{labelText:"نام خانوادگی",placeholder:"نام خانوادگی را وارد کنید",...t.getFieldProps("lastName"),errorMessage:t.touched.lastName&&t.errors.lastName?t.errors.lastName:null}),e.jsx(g,{labelText:"ایمیل",placeholder:"example@gmail.com",optional:!0,...t.getFieldProps("email"),errorMessage:t.touched.email&&t.errors.email?t.errors.email:null}),e.jsx(g,{inputType:"phone",labelText:"شماره",placeholder:"شماره را وارد کنید",...t.getFieldProps("phone"),errorMessage:t.touched.phone&&t.errors.phone?t.errors.phone:null}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-dark font-estedad-lightbold mb-2",children:"کلینیک (اختیاری)"}),e.jsx(B,{options:c,value:c.find(a=>a.value===t.values.clinicId)||null,onChange:a=>{t.setFieldValue("clinicId",a?.value||null),t.setFieldTouched("clinicId",!0)},onBlur:()=>t.setFieldTouched("clinicId",!0),placeholder:"کلینیک را انتخاب کنید (اختیاری)",isClearable:!0,components:{DropdownIndicator:W},classNames:{control:()=>"!text-dark px-5 !min-h-[52px] !rounded-lg !border-2 !border-main-border-color !focus:outline-none h-full !cursor-pointer",option:({isFocused:a,isSelected:l})=>`px-3 py-2 cursor-pointer !text-lg border-r-6 ${l?"!bg-primary text-white !cursor-pointer":a?"!text-secondary !cursor-pointer":"bg-white !cursor-pointer"}`,menu:()=>"!mt-0 !rounded-t-none shadow-lg bg-white overflow-hidden",placeholder:()=>"!text-paragray font-estedad-light"}}),e.jsx("div",{className:"text-red-500 text-[10px] mr-4 mt-1 min-h-[20px]",children:t.touched.clinicId&&t.errors.clinicId?t.errors.clinicId:null})]}),e.jsx(g,{ref:n,inputType:"file",labelText:"آپلود مدارک (اختیاری - حداکثر 10 فایل - PDF، تصاویر JPG/PNG، Word)",placeholder:"آپلود مدارک",className:"text-paragray! font-estedad-light",multiple:!0,name:"documents",onChange:a=>{const l=a.target.files;if(l&&l.length>0){const d=Array.from(l),m=t.values.documents||[],x=[],p=[];d.forEach(o=>{_(o)?x.push(o):p.push(o)});const h=[...m,...x],u=h.slice(0,10);if(h.length>10&&I(`فقط 10 فایل اول انتخاب شد. ${h.length-10} فایل دیگر نادیده گرفته شد.`),t.setFieldValue("documents",u,!1),p.length>0){const o=`${p.length} فایل نامعتبر است. فقط PDF، تصاویر (JPG, PNG) و فایل‌های Word مجاز هستند.`;T(o),t.setFieldTouched("documents",!0,!1),t.setFieldError("documents","نوع فایل نامعتبر است. فقط PDF، تصاویر و فایل‌های Word مجاز هستند")}else x.length>0&&t.setFieldError("documents",void 0)}else t.values.documents.length===0&&t.setFieldTouched("documents",!0)},errorMessage:t.touched.documents&&t.errors.documents?t.errors.documents:null}),t.values.documents&&t.values.documents.length>0&&e.jsx("div",{className:"mt-2 mr-4 text-sm text-gray-600",children:t.values.documents.length>=10&&e.jsx("span",{className:"text-orange-500 mr-2",children:"(حداکثر تعداد فایل)"})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"اطلاعات پزشک"}),e.jsx("textarea",{rows:4,placeholder:"توضیحات لازم را وارد نمایید..",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition resize-none",...t.getFieldProps("information")}),e.jsx("span",{className:"block text-red-500 text-[10px] font-iran-sans-normal mr-4 mb-2 h-4",children:t.touched.information&&t.errors.information&&e.jsx(e.Fragment,{children:t.errors.information})})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",className:"main-btn",children:"دکتر شوید"})})]})})})}function X(){const s=v.c(3);let r;s[0]===Symbol.for("react.memo_cache_sentinel")?(r=e.jsx(C,{title:"ثبت نام پزشک",items:[{label:"خانه",path:"/home"},{label:"ثبت نام پزشک",path:"/become-doctor"}]}),s[0]=r):r=s[0];let n;s[1]===Symbol.for("react.memo_cache_sentinel")?(n=e.jsx("div",{className:"mb-12"}),s[1]=n):n=s[1];let c;return s[2]===Symbol.for("react.memo_cache_sentinel")?(c=e.jsxs(e.Fragment,{children:[r,e.jsx("section",{className:"py-4 md:py-6 ",children:e.jsxs("div",{className:"container mx-auto px-4",children:[n,e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12",children:[e.jsx(G,{}),e.jsx(q,{})]})]})})]}),s[2]=c):c=s[2],c}export{X as default};
