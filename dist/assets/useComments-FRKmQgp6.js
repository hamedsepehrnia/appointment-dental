import{c as m,r as u}from"./index-J2TYnO22.js";import{a as y,u as S,c as f,d as $}from"./query-vendor-DvaUDqTV.js";const I=(e,t,s,n)=>{const o=m.c(5),a=e===void 0?1:e,c=t,i=s===void 0?"":s,r=n===void 0?"":n;let l;return o[0]!==c||o[1]!==a||o[2]!==i||o[3]!==r?(l={queryKey:["comments",a,c,i,r],queryFn:async()=>{const d=new URLSearchParams({page:a.toString(),limit:c.toString()});i&&d.append("search",i);let p="/comments";return r==="doctor"?p="/comments/all/doctors":r==="article"?p="/comments/all/articles":r==="service"&&(p="/comments/all/services"),(await u.get(`${p}?${d.toString()}`)).data},staleTime:3e5},o[0]=c,o[1]=a,o[2]=i,o[3]=r,o[4]=l):l=o[4],S(l)},R=()=>{const e=m.c(2),t=f();let s;return e[0]!==t?(s={mutationFn:_,onSuccess:(n,o)=>{t.invalidateQueries({queryKey:["comments-infinite",o.id,o.type]}),t.invalidateQueries({queryKey:["comments",o.id,o.type]})}},e[0]=t,e[1]=s):s=e[1],y(s)},T=()=>{const e=m.c(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t={mutationFn:q},e[0]=t):t=e[0],y(t)},b=()=>{const e=m.c(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t={mutationFn:h},e[0]=t):t=e[0],y(t)},G=(e,t,s)=>{const n=m.c(9),o=s;let a,c;n[0]!==e||n[1]!==o||n[2]!==t?(a=["comments-infinite",e,t,o],c=async l=>{const{pageParam:d}=l,p=d===void 0?1:d,g=new URLSearchParams({page:p.toString(),limit:o.toString()});return(await u.get(`/comments/${t}/${e}?${g.toString()}`)).data},n[0]=e,n[1]=o,n[2]=t,n[3]=a,n[4]=c):(a=n[3],c=n[4]);const i=!!e&&!0;let r;return n[5]!==a||n[6]!==c||n[7]!==i?(r={queryKey:a,queryFn:c,getNextPageParam:C,enabled:i,initialPageParam:1},n[5]=a,n[6]=c,n[7]=i,n[8]=r):r=n[8],$(r)},U=()=>{const e=m.c(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t={mutationFn:v},e[0]=t):t=e[0],y(t)},L=()=>{const e=m.c(2),t=f();let s;return e[0]!==t?(s={mutationFn:w,onSuccess:()=>{t.invalidateQueries({queryKey:["comments"]}),t.invalidateQueries({queryKey:["commentsStats"]})}},e[0]=t,e[1]=s):s=e[1],y(s)},N=()=>{const e=m.c(2),t=f();let s;return e[0]!==t?(s={mutationFn:F,onSuccess:()=>{t.invalidateQueries({queryKey:["comments"]}),t.invalidateQueries({queryKey:["commentsStats"]})}},e[0]=t,e[1]=s):s=e[1],y(s)},A=()=>{const e=m.c(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t={queryKey:["commentsStats"],queryFn:K,staleTime:3e5},e[0]=t):t=e[0],S(t)};async function _(e){const{comment:t,type:s,id:n}=e;return(await u.post(`/comments/${s}/${n}`,{content:t.content,rating:t.rating})).data}async function q(e){const{id:t,content:s,rating:n,published:o}=e;return(await u.patch(`/comments/${t}`,{...s!==void 0&&{content:s},...n!==void 0&&{rating:n},...o!==void 0&&{published:o}})).data}async function h(e){return(await u.delete(`/comments/${e}`)).data}function C(e){const t=e?.meta;if(t?.hasNextPage)return t.page+1}async function v(e){const{commentId:t,content:s}=e;return(await u.post(`/comments/${t}/reply`,{content:s})).data}async function w(e){return(await u.patch(`/comments/${e}/toggle-status`)).data}async function F(e){return(await u.patch(`/comments/${e}/toggle-read`)).data}async function K(){return(await u.get("/comments/stats")).data}export{G as a,L as b,N as c,A as d,U as e,b as f,T as g,I as h,R as u};
