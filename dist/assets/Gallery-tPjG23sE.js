import{j as t}from"./query-vendor-KlcNboas.js";import{c as T,L as _,g as G,m as k,A as B}from"./index-De3z1354.js";import{l as D,a as L}from"./react-vendor-vqeg7uDR.js";import{B as F}from"./Breadcrumb-De-ZSkBG.js";import{S as O}from"./SEO-BpVsuI_h.js";import{u as R}from"./useGallery-HTHU-4_K.js";import{M as U}from"./MainPagination-CkwczG9s.js";import{E as H}from"./EmptyState-D0F-f2hP.js";import"./redux-vendor-CGnCw5VP.js";import"./ui-vendor-D4DdIvF_.js";import"./form-vendor--t6BffNT.js";import"./motion-vendor-CQyDv_CV.js";function oe(){const e=T.c(32),[l,o]=D(),[a,M]=L.useState(null);let m;e[0]!==l?(m=l.get("page")||"1",e[0]=l,e[1]=m):m=e[1];const A=parseInt(m);let d;e[2]!==l?(d=l.get("limit")||"12",e[2]=l,e[3]=d):d=e[3];const g=parseInt(d),{data:i,isLoading:I}=R(A,g,!0);let f;e[4]!==g||e[5]!==o?(f=s=>{o({page:s.toString(),limit:g.toString()}),window.scrollTo({top:0,behavior:"smooth"})},e[4]=g,e[5]=o,e[6]=f):f=e[6];const S=f;let p;e[7]!==i?.data?.images?(p=i?.data?.images||[],e[7]=i?.data?.images,e[8]=p):p=e[8];const x=p,P=x.length>0;let u,h;e[9]!==i?(u=()=>{i?.data?.images&&(console.log("Gallery images:",i.data.images),i.data.images.forEach(J))},h=[i],e[9]=i,e[10]=u,e[11]=h):(u=e[10],h=e[11]),L.useEffect(u,h);let y;e[12]===Symbol.for("react.memo_cache_sentinel")?(y=s=>{M(s)},e[12]=y):y=e[12];const $=y;let j;e[13]===Symbol.for("react.memo_cache_sentinel")?(j=()=>{M(null)},e[13]=j):j=e[13];const C=j;let b,v;e[14]!==a?(b=()=>{const s=z=>{z.key==="Escape"&&a&&C()};return a&&(document.addEventListener("keydown",s),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",s),document.body.style.overflow="unset"}},v=[a],e[14]=a,e[15]=b,e[16]=v):(b=e[15],v=e[16]),L.useEffect(b,v);let w,N;e[17]===Symbol.for("react.memo_cache_sentinel")?(w=t.jsx(O,{title:"گالری تصاویر - کلینیک دندان پزشکی طاها",description:"گالری تصاویر کلینیک دندان پزشکی طاها - مشاهده تصاویر محیط کلینیک، تجهیزات و نمونه کارهای انجام شده",keywords:"گالری, تصاویر کلینیک, محیط کلینیک, تجهیزات دندانپزشکی, کلینیک طاها",url:"/gallery"}),N=t.jsx(F,{}),e[17]=w,e[18]=N):(w=e[17],N=e[18]);let r;e[19]!==i||e[20]!==S||e[21]!==P||e[22]!==x||e[23]!==I?(r=t.jsx("section",{className:"pt-6 pb-12",children:t.jsx("div",{className:"container mx-auto px-4",children:I?t.jsx(_,{text:"در حال بارگذاری تصاویر..."}):P?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:x.map(s=>t.jsxs("div",{className:"relative group cursor-pointer h-[300px] overflow-hidden rounded-2xl",onClick:()=>$(s),children:[s.image?t.jsx("img",{src:G(s.image),alt:s.title||"تصویر گالری",className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-110",onError:q}):t.jsx("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center",children:t.jsx("i",{className:"far fa-image text-gray-400 text-4xl"})}),s.title&&t.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:t.jsx("p",{className:"text-white font-estedad-medium text-sm line-clamp-2",children:s.title})})]},s.id))}),i?.meta&&i.meta.totalPages>1&&t.jsx("div",{className:"mt-12",children:t.jsx(U,{meta:i.meta,onPageChange:S})})]}):t.jsx(H,{icon:"far fa-image",title:"هیچ تصویری یافت نشد",description:"در حال حاضر هیچ تصویری در گالری منتشر نشده است. لطفاً بعداً مراجعه کنید."})})}),e[19]=i,e[20]=S,e[21]=P,e[22]=x,e[23]=I,e[24]=r):r=e[24];let n;e[25]!==a?(n=a&&t.jsxs(k.div,{className:"fixed inset-0 z-50 flex items-center justify-center p-4",onClick:C,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:[t.jsx(k.div,{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2}}),t.jsxs(k.div,{className:"relative z-10 w-full max-w-5xl max-h-[90vh] bg-white rounded-xl shadow-2xl overflow-hidden",initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},transition:{type:"spring",stiffness:300,damping:30,duration:.3},onClick:K,children:[t.jsx(k.button,{onClick:C,className:"absolute top-5 left-5 z-20 flex items-center justify-center w-9 h-9 rounded-lg bg-white/80 backdrop-blur-md border border-gray-200/50 hover:bg-white hover:border-gray-300 hover:shadow-lg transition-all duration-200 group","aria-label":"بستن",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:t.jsx("i",{className:"fas fa-times text-sm text-gray-600 group-hover:text-gray-800 transition-colors"})}),t.jsx("div",{className:"w-full h-[80vh] flex items-center justify-center bg-gray-100",children:a.image?t.jsx("img",{src:G(a.image),alt:a.title||"تصویر گالری",className:"max-w-full max-h-full object-contain"}):t.jsxs("div",{className:"flex flex-col items-center justify-center text-gray-400",children:[t.jsx("i",{className:"far fa-image text-6xl mb-4"}),t.jsx("p",{children:"تصویر یافت نشد"})]})}),(a.title||a.description)&&t.jsxs("div",{className:"p-6 bg-white border-t",children:[a.title&&t.jsx("h3",{className:"text-xl font-estedad-bold text-dark mb-2",children:a.title}),a.description&&t.jsx("p",{className:"text-paragray font-estedad-light leading-relaxed",children:a.description})]})]})]}),e[25]=a,e[26]=n):n=e[26];let c;e[27]!==n?(c=t.jsx(B,{mode:"wait",children:n}),e[27]=n,e[28]=c):c=e[28];let E;return e[29]!==r||e[30]!==c?(E=t.jsxs(t.Fragment,{children:[w,N,r,c]}),e[29]=r,e[30]=c,e[31]=E):E=e[31],E}function K(e){return e.stopPropagation()}function q(e){const l=e.target;l.style.display="none";const o=l.parentElement;o&&(o.innerHTML=`
                              <div class="w-full h-full bg-gray-200 flex items-center justify-center">
                                <i class="far fa-image text-gray-400 text-4xl"></i>
                              </div>
                            `)}function J(e,l){const o=e.image?G(e.image):"NO IMAGE";if(console.log(`Image ${l+1}:`,{id:e.id,title:e.title,image:e.image,imageUrl:o,hasImage:!!e.image,imageType:typeof e.image}),e.image){const a=new Image;a.onload=()=>console.log(`✅ Image ${l+1} loaded successfully:`,o),a.onerror=()=>console.error(`❌ Image ${l+1} failed to load:`,o),a.src=o}}export{oe as default};
