var M=Object.defineProperty;var V=(o,e,i)=>e in o?M(o,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):o[e]=i;var z=(o,e,i)=>V(o,typeof e!="symbol"?e+"":e,i);import{g as Q,r as T,j as d,C as $}from"./react-core-DkX7OQ4Q.js";import{ac as q}from"./index-DUiqV2No.js";import{A as O,d as W,e as J,f as Y,B as X,g as Z,h as ee,j as te,C as ae,E as oe,F as le,k as ne,l as ie,m as se,H as re,n as de,I as ce,p as me,q as ge,r as ue,s as he,t as fe,v as be,w as pe,x as ke,y as xe,z as Te,D as Ce,L as ye,G as Ie,J as ve,M as Le,P as _e,S as Ee,K as we,N as Se,T as Ae,O as je,Q as Be,R as Fe,U as Re,V as De,W as Ne}from"./editor-DLslrAMc.js";class Pe{constructor(e){z(this,"loader");this.loader=e}upload(){return this.loader.file.then(e=>e?new Promise((i,p)=>{const k=new FormData;k.append("file",e),fetch(q("/api/upload"),{method:"POST",body:k}).then(t=>{if(!t.ok)throw new Error(`Upload failed: ${t.statusText}`);return t.json()}).then(t=>{i({default:t.url})}).catch(t=>{p(t)})}):Promise.reject(new Error("File is null")))}abort(){}}function He(o){o.plugins.get("FileRepository").createUploadAdapter=e=>new Pe(e)}const Ue="GPL";function Ve(o){const e=Q.c(35),{value:i,onChange:p,placeholder:k,labelText:t,errorMessage:H,optional:B}=o,a=i===void 0?"":i,F=k===void 0?"متن خود را اینجا تایپ یا جایگذاری کنید!":k,G=T.useRef(null),C=T.useRef(null),[K,U]=T.useState(!1);let y,I;e[0]===Symbol.for("react.memo_cache_sentinel")?(y=()=>(U(!0),()=>U(!1)),I=[],e[0]=y,e[1]=I):(y=e[0],I=e[1]),T.useEffect(y,I);let v,L;e[2]!==a?(v=()=>{C.current&&a!==void 0&&C.current.getData()!==a&&C.current.setData(a||"")},L=[a],e[2]=a,e[3]=v,e[4]=L):(v=e[3],L=e[4]),T.useEffect(v,L);let R;e:{if(!K){R=void 0;break e}let l,s,r,x,c,n,m,b,w;e[5]===Symbol.for("react.memo_cache_sentinel")?(b=[He],w={items:["undo","redo","|","sourceEditing","showBlocks","|","heading","|","fontSize","fontFamily","fontColor","fontBackgroundColor","|","bold","italic","underline","strikethrough","|","horizontalLine","link","imageInsert","mediaEmbed","insertTable","blockQuote","codeBlock","|","alignment","|","bulletedList","numberedList","todoList","outdent","indent"],shouldNotGroupWhenFull:!1},l=[O,W,J,Y,X,Z,ee,te,ae,oe,le,ne,ie,se,re,de,ce,me,ge,ue,he,fe,be,pe,ke,xe,Te,Ce,ye,Ie,ve,Le,_e,Ee,we,Se,Ae,je,Be,Fe,Re,De],s=["bold","italic","|","link","|","bulletedList","numberedList"],r=["fontSize","fontColor","fontBackgroundColor","|","bold","italic","|","link","imageInsert","insertTable","|","bulletedList","numberedList","outdent","indent"],x={supportAllValues:!0},c={options:[10,12,14,"default",18,20,22],supportAllValues:!0},n={options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h1",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h2",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h3",title:"Heading 3",class:"ck-heading_heading3"},{model:"heading4",view:"h4",title:"Heading 4",class:"ck-heading_heading4"},{model:"heading5",view:"h5",title:"Heading 5",class:"ck-heading_heading5"},{model:"heading6",view:"h6",title:"Heading 6",class:"ck-heading_heading6"}]},m={toolbar:["toggleImageCaption","imageTextAlternative","|","imageStyle:inline","imageStyle:wrapText","imageStyle:breakText"]},e[5]=l,e[6]=s,e[7]=r,e[8]=x,e[9]=c,e[10]=n,e[11]=m,e[12]=b,e[13]=w):(l=e[5],s=e[6],r=e[7],x=e[8],c=e[9],n=e[10],m=e[11],b=e[12],w=e[13]);const P=a||"";let S;e[14]===Symbol.for("react.memo_cache_sentinel")?(S={addTargetToExternalLinks:!0,defaultProtocol:"https://",decorators:{toggleDownloadable:{mode:"manual",label:"Downloadable",attributes:{download:"file"}}}},e[14]=S):S=e[14];let A;e[15]===Symbol.for("react.memo_cache_sentinel")?(A={contentToolbar:["tableColumn","tableRow","mergeTableCells"]},e[15]=A):A=e[15];let j;e[16]!==F||e[17]!==P?(j={extraPlugins:b,toolbar:w,plugins:l,balloonToolbar:s,blockToolbar:r,fontFamily:x,fontSize:c,heading:n,image:m,initialData:P,licenseKey:Ue,link:S,placeholder:F,language:"fa",direction:"rtl",table:A},e[16]=F,e[17]=P,e[18]=j):j=e[18],R=j}const _=R;let g;e[19]!==t||e[20]!==B?(g=t&&d.jsx("label",{className:"block text-dark font-estedad-lightbold mb-2 mr-4",children:d.jsxs("span",{className:"block mr-4 mb-2",children:[t,B&&d.jsx("span",{className:"text-paragray",children:" (اختیاری)"})]})}),e[19]=t,e[20]=B,e[21]=g):g=e[21];let u;e[22]!==_||e[23]!==p||e[24]!==a?(u=_&&d.jsx($,{editor:Ne,config:_,data:a||"",onReady:l=>{C.current=l,a&&l.setData(a);const s=l.model,r=s.document;r.on("change:data",()=>{r.differ.getChanges({includeChangesInGraveyard:!1}).forEach(c=>{if(c.type==="insert"&&c.name==="listItem"){const n=c.position.nodeAfter;if(n&&n.is("element","listItem")){const m=n.parent;m&&m.is("element","list")&&m.getAttribute("listType")==="todo"&&(n.getAttribute("todoListChecked")||s.enqueueChange(b=>{b.setAttribute("todoListChecked",!0,n)}))}}})})},onChange:(l,s)=>{const r=s.getData();p?.(r)}}),e[22]=_,e[23]=p,e[24]=a,e[25]=u):u=e[25];let h;e[26]!==u?(h=d.jsx("div",{className:"main-container text-editor-rtl",children:d.jsx("div",{className:"editor-container editor-container_classic-editor editor-container_include-block-toolbar",ref:G,children:d.jsx("div",{className:"editor-container__editor",children:u})})}),e[26]=u,e[27]=h):h=e[27];const D=`block text-red-500 text-[10px] font-iran-sans-normal mt-1 mr-4 mb-2 h-4 ${H?"visible":"invisible"}`,N=H||" ";let f;e[28]!==D||e[29]!==N?(f=d.jsx("span",{className:D,children:N}),e[28]=D,e[29]=N,e[30]=f):f=e[30];let E;return e[31]!==h||e[32]!==f||e[33]!==g?(E=d.jsxs("div",{className:"col-span-full",children:[g,h,f]}),e[31]=h,e[32]=f,e[33]=g,e[34]=E):E=e[34],E}export{Ve as T};
